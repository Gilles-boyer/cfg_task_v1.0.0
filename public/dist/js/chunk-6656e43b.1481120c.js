(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6656e43b"],{"3bf9":function(e,t,a){"use strict";var s=a("7424");t["a"]={getCaisseById(e){return s["a"].get("/caisse/"+e)},createCaisse(e){return s["a"].post("/caisse/create",e)},validCaisse(e){return s["a"].get("/caisse/valid/"+e)}}},ccd8:function(e,t,a){"use strict";a.r(t);var s=a("8336"),i=a("cc20"),c=a("8fea"),r=a("ce7e"),o=a("132d"),n=a("2fa4"),l=a("b73d"),u=a("71d9"),h=a("2a7f"),v=function(){var e=this,t=e._self._c;return t(c["a"],{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.caisses,"sort-by":"calories"},scopedSlots:e._u([{key:"top",fn:function(){return[t(u["a"],{attrs:{flat:""}},[t(h["a"],[e._v("Suivi des caisses pour validation")]),t(r["a"],{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t(n["a"]),t(l["a"],{attrs:{color:"primary"},on:{change:function(t){return e.initialize()}},model:{value:e.archive,callback:function(t){e.archive=t},expression:"archive"}})],1)]},proxy:!0},{key:"item.actions",fn:function({item:a}){return[t(o["a"],{staticClass:"mr-2",attrs:{color:"primary"},on:{click:function(t){return e.printCaisse(a.id)}}},[e._v(" mdi-eye ")]),t(o["a"],{attrs:{color:"primary"},on:{click:function(t){return e.validCaisse(a)}}},[e._v(" mdi-check ")])]}},{key:"item.surPlusEspece",fn:function({item:a}){return[a.surPlusEspece?e._e():t(i["a"],{attrs:{color:"primary"}},[e._v("Non")]),a.surPlusEspece?t(i["a"],{attrs:{color:"green"}},[e._v("oui")]):e._e()]}},{key:"no-data",fn:function(){return[t(s["a"],{attrs:{color:"primary"},on:{click:e.initialize}},[e._v(" Reset ")])]},proxy:!0}])})},p=[],d=a("3bf9"),f={data:()=>({archive:!1,headers:[{text:"NÂ° de caisse",align:"start",sortable:!1,value:"id"},{text:"Date",value:"date"},{text:"Utilisateur",value:"user"},{text:"Recette espece",value:"caisseEspece.recette"},{text:"Cb",value:"cb.total"},{text:"Cb s.c",value:"cbsc.total"},{text:"Cheque",value:"cheque.total"},{text:"Ticket",value:"ticket.total"},{text:"Sortie",value:"sortie.total"},{text:"Surplus Espece",value:"surPlusEspece"},{text:"Actions",value:"actions"}],caisses:[]}),created(){this.initialize()},methods:{initialize(){var e={method:"GET",redirect:"follow"};this.archive?fetch("https://mytaskcfg.herokuapp.com/api/caisse/archive/data",e).then(e=>e.json()).then(e=>this.caisses=e).catch(e=>console.log("error",e)):fetch("https://mytaskcfg.herokuapp.com/api/caisse",e).then(e=>e.json()).then(e=>this.caisses=e).catch(e=>console.log("error",e))},printCaisse(e){this.$router.push({name:"Pdf",params:{id:e}})},validCaisse(e){var t=this.caisses.indexOf(e);confirm("Etes-vous de vouloir confirmer cette caisse ?")&&d["a"].validCaisse(e.id).then(e=>{e&&(console.log(e),this.caisses.splice(t,1))}).catch(e=>console.log(e))}}},m=f,k=a("2877"),x=Object(k["a"])(m,v,p,!1,null,null,null);t["default"]=x.exports}}]);
//# sourceMappingURL=chunk-6656e43b.1481120c.js.map